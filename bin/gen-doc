#!/usr/bin/env bash
set -euo pipefail

echo "Generating type inference documentation..."
GENERATE_DOCS=1 bundle exec rspec spec/integration/ --format progress

# Check if any docs were generated (excluding hover_spec)
if ls docs/*.md 1> /dev/null 2>&1; then
  echo ""
  echo "Generated documentation files:"
  ls -1 docs/*.md
else
  echo "âœ— Failed to generate documentation"
  exit 1
fi
